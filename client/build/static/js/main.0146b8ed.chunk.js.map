{"version":3,"sources":["components/DashBoard.js","components/Highlight.js","components/BookRow.js","components/BookList.js","components/Favorites.js","components/App.js","index.js"],"names":["DashBoard","_ref","_type","_query","type","query","queryObject","react_default","a","createElement","aria-label","id","className","onSubmit","e","preventDefault","value","defaultValue","ref","option","onClick","input","placeholder","autoFocus","Highlight","data","visibility","addFavorite","removeFavorite","highlight","title","authors","rating","i","stars","push","md","key","Math","floor","splice","renderStars","ratingsCount","src","thumbnail","alt","description","publisher","publishedDate","favorites","style","background","border","color","price","href","purchase","BookRow","rowNumber","author","Scroll","animateScroll","scrollTo","j","BookList","map","entry","BookRow_BookRow","Favorites","App","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","items","booklist","updateQuery","bind","assertThisInitialized","updateHighlight","updateFavoriteHighlight","updateVisibility","inherits","createClass","_this2","serverRequest","fetch","then","response","json","forEach","item","element","volumeInfo","averageRating","imageLinks","replace","saleInfo","listPrice","amount","buyLink","setState","catch","err","console","error","_this3","axios","get","log","window","navigator","onLine","setTimeout","alert","idb","open","upgradeDB","createObjectStore","db","transaction","objectStore","getAll","allObjs","_this4","fetchQuery","_this5","filter","concat","toConsumableArray","add","post","res","remove","delete","_id","setVisibility","DashBoard_DashBoard","Highlight_Highlight","BookList_BookList","Favorites_Favorites","Component","React","render","App_App","document","getElementById","serviceWorker","register","registration","scope","addEventListener","event","body","scrollHeight","scrollTop","innerHeight"],"mappings":"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","file":"static/js/main.0146b8ed.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\n\nexport const DashBoard = ({type, query, queryObject}) => {\n\t\n\tlet _type, _query;\n\n\tconst submit = (e) => {\n\t\te.preventDefault();\n\t\tqueryObject({\n\t\t\ttype: _type.value,\n\t\t\tquery: _query.value\n\t\t});\n\t};\n\n\tconst categoryChange = () => {\n\t}\n\n\treturn(\n\t\t<nav aria-label=\"Book search form\" id=\"book-form\">\n\t\t<header>\n<div className=\"jumbotron text-center\">\n\t\t\t<h1> Book Search</h1>\n\t\t\t</div>\t\n\t\t</header>\n\n\t\t<form onSubmit={submit} className=\"text-center \">\n\t\t\t<div className=\"form-group\">\n\t\t\t<select aria-label=\"Drop-down list for book search category\" \n\t\t\t\t\t\t  defaultValue={type} \n\t\t\t\t\t\t  ref={option => _type = option}>\n\t\t\t\t<option onClick={() => categoryChange()} value=\"q=intitle:\">Title</option>\n\t\t\t\t<option onClick={() => categoryChange()} value=\"q=inauthor:\">Author</option>\n\t\t\t\t<option onClick={() => categoryChange()} value=\"q=subject:\">Subject</option>\n\t\t\t</select>\n\t\t\t<input aria-label=\"Book search box\" \n\t\t\t\t   className=\"form-control\"\n\t\t\t       type=\"text\" \n\t\t\t       defaultValue={query} \n\t\t\t       ref={input => _query = input}\n\t\t\t       placeholder=\"Search a book\"\n\t\t\t       autoFocus/>\n\n\t\t\t<input type=\"submit\" value=\"Lets Find Something\" className=\"btn btn-warning\" />\n\t\t\t</div>\n\t\t</form>\n\t\t</nav>\n\t)\n}\n\nDashBoard.propTypes = {\n\ttype: PropTypes.string,\n\tquery: PropTypes.string\n};","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { MdStarHalf } from 'react-icons/md/';\nimport { MdStars } from 'react-icons/md/';\nimport { MdStar } from 'react-icons/md/';\nimport { MdHighlightOff } from 'react-icons/md/';\nexport const Highlight = ({ data, visibility, addFavorite, removeFavorite }) => {\n\n\tconst color = {background: 'white', border: 'white', color: 'red'};\n\t\n\t// Transform numerical rating into 5 star UI element\n\tconst renderStars = (rating) => {\n\t\tlet stars = [];\n\t\tlet i;\n\t\tif(rating) {\n\t\t\tfor (i = 0; i < 5; i++) {\n\t\t\t\tstars.push(<MdStars key={i} />);\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < Math.floor(rating); i++) {\n\t\t\tstars.splice(i, 1, <MdStar key={i} />);\n\t\t}\n\t\tif (i < rating) {\n\t\t\tstars.splice(i, 1, <MdStarHalf key={i + 1} />);\n\t\t}\t\n\t\t\treturn stars;\n\t};\n\n\tconst addToFavorites = () => {\n\t\taddFavorite(data);\n\t};\n\n\tconst removeFromFavorites = () => {\n\t\tremoveFavorite(data);\n\t};\n\n\tif (visibility.highlight) {\n\t\treturn (\n\t\t\t<section id=\"book-highlight\" \n\t\t\t\t\t\t\t aria-label=\"Area showing information about book selected from list\">\n\t\t\t\t<h2>{data.title}</h2>\n\t\t\t\t<h3>{(data.authors) ? <span>by</span> : null}{data.authors}</h3>\n\t\t\t\t<span>{renderStars(data.rating)} {data.ratingsCount ? <span>({data.ratingsCount})</span> : null}</span>\n\t\t\t\t<p><img src={data.thumbnail} alt={data.title}/>{data.description}</p>\n\t\t\t\t<div>\n\t\t\t\t\t<span>{data.publisher}</span>\n\t\t\t\t\t<span>{data.publishedDate}</span>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<div>\n\t\t\t\t\t{!visibility.favorites ? \n\t\t\t\t\t\t<button onClick={() => addToFavorites()}><MdStar /> Favorite</button> : \n\t\t\t\t\t\t<button style={color} onClick={() => removeFromFavorites()}><MdHighlightOff /> Remove</button>}\n\t\t\t\t\t{(data.price) ? <a href={data.purchase}> Buy ${data.price}</a> : null}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t)\n\t} else {\n\t\treturn null;\n\t}\n};\n\n\nHighlight.propTypes = {\n\tdata: PropTypes.object\n}","import PropTypes from 'prop-types';\nimport { MdStarHalf } from 'react-icons/md/';\nimport { MdStars } from 'react-icons/md/';\nimport { MdStar } from 'react-icons/md/';\nimport Scroll from 'react-scroll';\nimport React from 'react';\nexport const BookRow = ({rowNumber, title, author, rating, highlight}) => {\n\n\t// Scroll to the top of UI when user selects an entry\n\tconst click = () => {\n\t\thighlight({\n\t\t\thighlight: rowNumber\n\t\t})\n\t\tScroll.animateScroll.scrollTo(200);\n\t}\n\n\t// This transforms the numerical rating into a 5 star UI\n\tconst renderStars = (rating) => {\n\t\tlet stars = [];\n\t\t// Use i to iterate through state array and j to assign unique key to each item\n\t\tlet i, j = 0;\n\t\tif(rating) {\n\t\t\tfor (i = 0; i < 5; i++) {\n\t\t\t\tstars.push(<MdStars key={j} />);\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < Math.floor(rating); i++) {\n\t\t\tstars.splice(i, 1, <MdStar key={j} />);\n\t\t\tj++;\n\t\t}\n\t\tif (i < rating) {\n\t\t\tstars.splice(i, 1, <MdStarHalf key={j + 1} />);\n\t\t\tj++;\n\t\t}\t\n\t\t\treturn stars;\n\t};\n\n\treturn(\n\t<div onClick={click}>\n\t\t\t<span>{title}</span>\n\t\t\t<span>{renderStars(rating)}</span>\n\t</div>\n\t)\n}\n\nBookRow.propTypes ={\n\ttitle: PropTypes.string,\n\tauthor: PropTypes.string\n}","import PropTypes from 'prop-types';\nimport { BookRow } from './BookRow';\nimport React from 'react';\nexport const BookList = ({data, highlight, visibility}) => {\n\n\tif (visibility && data[0] !== null) {\n\t\treturn(\n\t\t\t<div className=\"list-group-item\">\n\t\t\t<section id=\"book-list\"\n\t\t\t\t\t\t\t aria-label=\"List of books returned from search\">\n\t\t\t\t{data.map((entry, i) =>\n\t\t\t\t\t\n\t\t\t\t\t<BookRow key = {i}\n\t\t\t\t\t\t\t rowNumber = {i}\n\t\t\t\t\t         title = {entry.title}\n\t\t\t\t\t         author = {entry.authors}\n\t\t\t\t\t         rating = {entry.rating}\n\t\t\t\t\t         highlight = {highlight}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t\t</div>\n\t\t)\n\t} else {\n\t\treturn null;\n\t}\n}\n\nBookList.propTypes = {\n\tdata: PropTypes.array\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BookRow } from './BookRow';\nexport const Favorites = ({data, highlight, visibility}) => {\n\n\tif (visibility) {\n\t\treturn(\n\t\t\t<section id=\"favorites\"\n\t\t\t\t\t\t\t aria-label=\"List of books added to favorites\">\n\t\t\t\t{data.map((entry, i) =>\n\t\t\t\t\t<BookRow key = {i}\n\t\t\t\t\t         rowNumber = {i}\n\t\t\t\t\t         title = {entry.title}\n\t\t\t\t\t         author = {entry.authors}\n\t\t\t\t\t         rating = {entry.rating}\n\t\t\t\t\t         highlight = {highlight}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t)\n\t} else {\n\t\treturn null;\n\t}\n}\n\nFavorites.propTypes = {\n\tdata: PropTypes.array\n}","import React from 'react';\nimport { Component } from 'react';\nimport { DashBoard } from './DashBoard';\nimport { Highlight } from './Highlight';\nimport { BookList } from './BookList';\nimport { Favorites } from './Favorites';\nimport idb from 'idb';\nimport axios from 'axios';\n\nexport class App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\titems: [\n\t\t\t\tnull\n\t\t\t],\n\t\t\tqueryObject: {\n\t\t\t\ttype: 'q=intitle:',\n\t\t\t\tquery: 'cars'\n\t\t\t},\n\t\t\thighlight: 0,\n\t\t\tvisibility: {\n\t\t\t\thighlight: false,\n\t\t\t\tbooklist: false, \n\t\t\t\tfavorites: false\n\t\t\t},\n\t\t\tfavorites: [\n\t\t\t\tnull\n\t\t\t]\n\t\t}\n\t\tthis.updateQuery = this.updateQuery.bind(this);\n\t\tthis.updateHighlight = this.updateHighlight.bind(this);\n\t\tthis.addFavorite = this.addFavorite.bind(this);\n\t\tthis.updateFavoriteHighlight = this.updateFavoriteHighlight.bind(this);\n\t\tthis.updateVisibility = this.updateVisibility.bind(this);\n\t\tthis.removeFavorite = this.removeFavorite.bind(this);\n\t}\t\n\n\t// Get the results for the search terms entered\n\tfetchQuery() {\n\t\tthis.serverRequest = fetch('https://www.googleapis.com/books/v1/volumes?' + this.state.queryObject.type + this.state.queryObject.query)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tdata.items.forEach((item, i) => {\n\t\t\t\t\tlet element = {};\n\t\t\t\t\tif (typeof item.volumeInfo.title != 'undefined') { \n\t\t\t\t\t\telement.title = item.volumeInfo.title;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.title = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.authors != 'undefined') {\n\t\t\t\t\t\telement.authors =  item.volumeInfo.authors[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.authors = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.averageRating != 'undefined') {\n\t\t\t\t\t\telement.rating =  item.volumeInfo.averageRating;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.rating = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.ratingsCount != 'undefined') {\n\t\t\t\t\t\telement.ratingsCount =  item.volumeInfo.ratingsCount;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.ratingsCount = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.publisher != 'undefined') {\n\t\t\t\t\t\telement.publisher = item.volumeInfo.publisher;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.publisher = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.publishedDate != 'undefined') {\n\t\t\t\t\t\telement.publishedDate = item.volumeInfo.publishedDate;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.publishedDate = null;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof item.volumeInfo.description != 'undefined') {\n\t\t\t\t\t\telement.description = item.volumeInfo.description;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.description = null;\n\t\t\t\t\t}\t\n\t\t\t\t\tif ( typeof item.volumeInfo.imageLinks != 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof item.volumeInfo.imageLinks.thumbnail != 'undefined' ) {\n\t\t\t\t\t\telement.thumbnail = item.volumeInfo.imageLinks.thumbnail.replace(/http:/i, 'https:');\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.thumbnail = null;\n\t\t\t\t\t}\t\n\t\t\t\t\tif ( typeof item.saleInfo.listPrice != 'undefined') {\n\t\t\t\t\t\telement.price = item.saleInfo.listPrice.amount;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.price = null;\n\t\t\t\t\t}\t\n\t\t\t\t\tif ( typeof item.saleInfo.buyLink != 'undefined') {\n\t\t\t\t\t\telement.purchase = item.saleInfo.buyLink;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.price = null;\n\t\t\t\t\t}\t\n\t\t\t\t\tif ( typeof item.volumeInfo.description != 'undefined') {\n\t\t\t\t\t\telement.description = item.volumeInfo.description;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.description = null;\n\t\t\t\t\t}\t\n\t\t\t\t\tthis.setState(this.state.items.splice(i, 1, element));\n\t\t\t\t})\t\t\t\t\n\t\t}).catch((err) => {\n\t\t\t\tconsole.error('There was an error fetching data', err);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\t\t\n\t\t// Populate the favorites list\n\t\taxios.get('/api/favorites')\n\t\t.then(response =>{\n\t\t\tconsole.log('Fetched from mongo', response.data);\n\t\t\tthis.setState({\n\t\t\t\tfavorites: response.data\n\t\t\t})\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\n\t\t// Offline\n\t\tif(!window.navigator.onLine) {\n\t\t\tsetTimeout(function() {alert('You appear to be offline. Your favorites are still avaiable to you'); }, 1);\n\t\t\t// Open IDB\n\t\t\tconst dbPromise = idb.open('favorites', 1, upgradeDB => {\n\t\t\t// Create an object store named weather if none exists\n\t\t\t//eslint-disable-next-line\t\n\t\t\tlet favorites = upgradeDB.createObjectStore('favorites');\n\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.error('IndexedDB:', error);\n\t\t\t});\n\t\t\t//Get all the favorites\n\t\t\tdbPromise.then(db => {\n\t\t\treturn db.transaction('favorites')\n\t\t\t\t.objectStore('favorites').getAll();\n\t\t\t}).then(allObjs => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tfavorites: allObjs,\n\t\t\t\t\tvisibility: {\n\t\t\t\t\thighlight: false,\n\t\t\t\t\tbooklist: false,\n\t\t\t\t\tfavorites: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\t\t\n\t}\n\n\t// componentWillUnmount() {\n\t// \tthis.serverRequest.abort();\n\t// }\n\n\t// Set the current query in state on change\n\tupdateQuery(queryObject) {\n\t\tthis.setState({\n\t\t\tqueryObject: {\n\t\t\t\ttype: queryObject.type,\n\t\t\t\tquery: queryObject.query\n\t\t\t},\n\t\t\tvisibility: {\n\t\t\t\thighlight: false,\n\t\t\t\tbooklist: true,\n\t\t\t\tfavorites: false\n\t\t\t}\n\t\t}, () => {\n\t\t\tthis.fetchQuery();\n\t\t});\n\t\t\n\t}\n\n\t// Show all the data pertaining to an item\n\tupdateHighlight(highlight) {\n\t\tthis.setState({\n\t\t\thighlight: highlight.highlight,\n\t\t\tvisibility: {\n\t\t\t\thighlight: true,\n\t\t\t\tbooklist: true,\n\t\t\t\tfavorites: false\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\n\tupdateFavoriteHighlight(highlight) {\n\t\tthis.setState({\n\t\t\thighlight: highlight.highlight,\n\t\t\tvisibility: {\n\t\t\t\thighlight: true,\n\t\t\t\tbooklist: false,\n\t\t\t\tfavorites: true\n\t\t\t}\n\t\t});\n\t\t\n\n\t}\n\n\taddFavorite(data) {\t\n\t\t// Add to state\t\n\t\tthis.setState({\n\t\t\titems: this.state.items.filter((item, i) => i !== this.state.highlight),\n\t\t\tvisibility: {\n\t\t\t\thighlight: false,\n\t\t\t\tbooklist: false,\n\t\t\t\tfavorites: true\n\t\t\t},\n\t\t\tfavorites: [ ...this.state.favorites, data]\n\t\t});\n\n\t\t// Open IDB\n\t\tconst dbPromise = idb.open('favorites', 1, upgradeDB => {\n\t\t\t// Create an object store if none exists\n\t\t\t//eslint-disable-next-line\t\n\t\t\tlet favorites = upgradeDB.createObjectStore('favorites');\n\t\t}).catch(error => {\n\t\t\t\tconsole.error('IndexedDB:', error);\n\t\t});\n\n\t\t// Add favorite to IDB\n\t\tdbPromise.then(db => {\n\t\t\tlet tx = db.transaction('favorites', 'readwrite');\n\t\t\tlet favorites= tx.objectStore('favorites', 'readwrite');\n\t\t\tfavorites.add(data, data.title);\n\t\t}).catch(error => {\n\t\t\t\tconsole.error('IndexedDB:', error);\n\t\t});\n\n\t\t// Add favorite to mongoDB\n\t\taxios.post('/api/favorites', data)\n\t\t.then(function (res) {\n\t\tconsole.log(res);\n\t\t})\n\t\t.catch(function (err) {\n\t\t\tconsole.log(err);\n\t\t});  \t\n\t\t\n\t}\n\n\tremoveFavorite(data) {\n\t\tconst remove = this.state.favorites;\n\t\tremove.splice(this.state.highlight, 1);\n\t\tthis.setState({\n\t\t\tvisibility: {\n\t\t\t\thighlight: false,\n\t\t\t\tbooklist: false,\n\t\t\t\tfavorites: true\n\t\t\t},\n\t\t\tfavorites: [...remove]\n\t\t});\n\t\tconst dbPromise = idb.open('favorites', 1, upgradeDB => {\n        // Create an object store named weather if none exists\n\t\t//eslint-disable-next-line\t\n\t\tlet favorites = upgradeDB.createObjectStore('favorites');\n\t    }).catch(error => {\n\t        console.error('IndexedDB:', error);\n\t    });\n\t\tdbPromise.then(db => {\n            let tx = db.transaction('favorites', 'readwrite');\n            let favorites= tx.objectStore('favorites', 'readwrite');\n            favorites.delete(data.title);\n        }).catch(error => {\n            console.error('IndexedDB:', error);\n        })\n\t\t\n\t\taxios.delete(`/api/favorites/${data._id}`, data)\n\t\t\t.then(function(res){\n\t\t\t\tconsole.log(res);\n\t\t\t}).catch(function(err){\n\t\t\t\tconsole.error(err);\n\t\t\t})\n\t}\n  \n\t// Set state for which parts of the UI are visible\n\tupdateVisibility(setVisibility) {\n\t\tthis.setState({\n\t\t\tvisibility: {\n\t\t\t\thighlight: setVisibility.highlight,\n\t\t\t\tbooklist: setVisibility.booklist,\n\t\t\t\tfavorites: setVisibility.favorites\n\t\t\t}\n\t\t});\n\n\t}\n\n \trender() {\n\t\treturn(\n\t\t\t<div className=\"app\">\n\t\t\t\t<DashBoard queryObject={this.updateQuery} />\n\n\t\t\t\t<Highlight data={this.state.visibility.favorites ?\n\t\t\t\t\tthis.state.favorites[this.state.highlight] :\n\t\t\t\t\tthis.state.items[this.state.highlight]}\n\t\t\t\t\t\t   visibility={this.state.visibility}\n\t\t\t\t\t\t   addFavorite={this.addFavorite}\n\t\t\t\t\t\t   removeFavorite={this.removeFavorite}/>\n\n\t\t\t\t<BookList data={this.state.items}\n\t\t\t\t\t\t  highlight={this.updateHighlight}\n\t\t\t\t\t\t  visibility={this.state.visibility.booklist} />\n\t\t\t\t\n\t\t\t\t<Favorites data={this.state.favorites}\n\t\t\t\t\t\t   highlight={this.updateFavoriteHighlight}\n\t\t\t\t\t\t   visibility={this.state.visibility.favorites} />\n\t\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n};\n","import React from 'react';\nimport { render } from 'react-dom';\nimport \"./style.css\"\nimport { App } from './components/App';\n\nwindow.React = React;\n\nrender(\n\t<App />,\n  document.getElementById('root')\n)\n\n// Check for browser support of service worker\nif ('serviceWorker' in navigator) {\n navigator.serviceWorker.register('./service-worker.js')\n .then(function(registration) {\n   // Successful registration\n   console.log('Hooray. Registration successful, scope is:', registration.scope);\n\n }).catch(function(err) {\n   // Failed registration, service worker wonâ€™t be installed\n   console.log('Whoops. Service worker registration failed, error:', err);\n    \n\n });\n}\n\ndocument.addEventListener('scroll', function (event) {\n    if (document.body.scrollHeight ===\n        document.body.scrollTop +        \n        window.innerHeight) {\n        \n    }\n});"],"sourceRoot":""}